var xa={};xa.styleMap={title:!0,borderRadiusTopLeft:!0,borderRadiusTopRight:!0,borderRadiusBottomLeft:!0,borderRadiusBottomRight:!0,visibility:!0},xa.editor={},xa.editor.iconThumb="DB/EDU/imgs/wgts/thumbs/spriteAnimation.png",xa.scriptInfo={wgtRun:{effect:{param:"{point:Array|{x:Number,y:Number}, interval:Number|undefined, use:1-based Number|undefined}",help:{ko:"'point'에 해당하는 위치에 '연속 효과'를 표시합니다. 'interval'은 Milisecond로 지정될 수 있으며, 효과간 간격으로 사용됩니다. 값이 null이면 편집된 값이 적용됩니다. 'use'는 사용할 '연속 효과'를 지정합니다.",en:"Displays 'chained effect' on positions of 'point'. 'interval' is an interval time(milisecond) between effects. If this is null, the edited value will be applied. If there are multiple 'chained effects', you can select by 'use'."}}}},xa.properties={},xa.properties.state="ready",xa.properties.attrs={cfg:{v2D:[{type:"sprinkle",i1:{mediaID:void 0},i2:{mediaID:void 0},i3:{mediaID:void 0},i4:{mediaID:void 0},i5:{mediaID:void 0},id:"",c:30,d:2e3,s:45}],v2A:[{type:"bubble",i1:{mediaID:void 0},i2:{mediaID:void 0},i3:{mediaID:void 0},i4:{mediaID:void 0},i5:{mediaID:void 0},id:"",c:20,d:2e3}],v2C:[{type:"sprinkle",i1:{mediaID:void 0},i2:{mediaID:void 0},i3:{mediaID:void 0},i4:{mediaID:void 0},i5:{mediaID:void 0},id:"",d:0,c:15,imgR:100}]}},xa.exeCreateTag=apn.widgets["apn.wgt.rect"].exeCreateTag,xa.exeRenderTag=apn.widgets["apn.wgt.rect"].exeRenderTag,xa.exeOnLoad=function(e,t){function i(i){if(i&&o&&o.ctx){o.ctx.poolReady=!0;var a;if(o.ctx._uWorksDelayed){for(var r=0;r<o.ctx._uWorksDelayed.length;r++)a=o.ctx._uWorksDelayed[r],"effect"==a.work&&n._effect(e,o,a.type,a.idx);delete o.ctx._uWorksDelayed}if(o._uWorkDelayedRunEffect){for(var r=0;r<o._uWorkDelayedRunEffect.length;r++)a=o._uWorkDelayedRunEffect[r],n.chainEffect(e,o,p.v2C[a.idx],o.ctx.v2imgs["C"+a.idx],a.pts,a.opts);delete o._uWorkDelayedRunEffect}n.exeOnCheckContentLoad&&e.fireEvent("contentLoad","i",t,!0)}}function a(t){var a,n=0,r=0;o.ctx.v2imgs=o.ctx.v2imgs||{};for(var p=0;p<t.length;p++)a=new Image,a.__group=t[p].group,a.onload=function(){var a=o.ctx.v2imgs[this.__group]=o.ctx.v2imgs[this.__group]||[];(void 0===a.__maxImgW||a.__maxImgW<Math.ceil(this.width*(1/e.getZoomX())))&&(a.__maxImgW=Math.ceil(this.width*(1/e.getZoomX()))),(void 0===a.__maxImgH||a.__maxImgH<Math.ceil(this.height*(1/e.getZoomY())))&&(a.__maxImgH=Math.ceil(this.height*(1/e.getZoomY()))),a.push(this),r++,n+r==t.length&&i(r)},a.onerror=a.onabort=function(){n++,n+r==t.length&&i(r)},a.src=t[p].url}var n=this,o=e.wgtTag(t);o.firstChild.style.display="none";var r,p=e.wgtGetProperty(t,"cfg"),d=[],s={A:!0,C:!0,D:!0};for(var c in s)for(var l=0;l<p["v2"+c].length;l++){r=p["v2"+c][l];for(var x=1;x<=5;x++)r["i"+x].mediaID&&d.push({group:c+l,url:e.mediaURL(r["i"+x].mediaID)})}return d.length?(o.ctx={},a(d),void(o.ctx.apnx=new apnx2(o,parseInt(o.style.width),parseInt(o.style.height),1/e.getZoomX(),1/e.getZoomY()))):void e.log(t,"Image for animation is not set.")},xa.exeSetState=function(e,t,i){if(t.ctx){e.wgtGetProperty(t.apnOID,"cfg");"D"!=i[0]&&"A"!=i[0]&&"C"!=i[0]||(t.ctx.poolReady?this._effect(e,t,i[0],parseInt(i.substring(2))):(t.ctx._uWorksDelayed=t.ctx._uWorksDelayed||[],t.ctx._uWorksDelayed.push({work:"effect",type:i[0],idx:parseInt(i.substring(2))})))}},xa.exeOnTick=function(e,t,i){var a=e.wgtTag(t);a.ctx&&a.ctx.poolReady&&a.ctx.apnx&&(a.ctx.apnx.count&&a.ctx.apnx.clear(),a.ctx.apnx.run())},xa.exeOnResume=function(e,t){var i=e.wgtTag(t);i.ctx&&i.ctx.apnx&&i.ctx.apnx.resume()},xa.exeOnPause=function(e,t){var i=e.wgtTag(t);i.ctx&&i.ctx.apnx&&i.ctx.apnx.pause()},xa.exeOnCheckContentLoad=function(e,t,i){return{i:"Image"}},xa.exePropSet=function(e,t,i,a,n){if("effect"==i){if(n)return!0;if(a&&a.point){var o,r=e.wgtTag(t),p=e.screen.objects[t].create.data.properties.attrs.cfg,d=!1,s=0;if(parseInt(a.use)&&(s=parseInt(a.use)-1),!p.v2C[s])return;a.point instanceof Array?o=a.point:a.point instanceof Object&&void 0!==a.point.x&&void 0!==a.point.y&&(o=[{x:a.point.x,y:a.point.y}],d=!0),o&&o.length&&(null===a.interval&&(a.interval=parseInt(p.v2C[s].d)),r.ctx&&r.ctx.poolReady?this.chainEffect(e,r,p.v2C[s],r.ctx.v2imgs["C"+s],o,{check:!0,interval:a.interval,full:d}):(r._uWorkDelayedRunEffect=r._uWorkDelayedRunEffect||[],r._uWorkDelayedRunEffect.push({idx:s,pts:o,opts:{check:!0,interval:a.interval,full:d}})))}else e.log(t,"Invalid parameter for Widget:run('effect',{...}).")}},xa._effect=function(e,t,i,a){if(!t.ctx||!t.ctx.poolReady)return 0;var n=e.wgtGetProperty(t.apnOID,"cfg"),o=n["v2"+i][a];if(!o)return 0;if(!t.ctx.v2imgs[i+a])return 0;var r,p,d,s=1/e.getZoomX(),c=1/e.getZoomY(),l=e.screen.objects[t.apnOID].init;if("D"==i){var x;o.id&&e.screen.objects[o.id]&&(x=e.wgtGetProperty(o.id,"vertexInPage")),x&&x[0]&&x[1]&&(r=o.type,p=Math.min(o.c,200),d={param:{},x:(x[0].x-l.position.x)*s,y:(x[0].y-l.position.y)*c,radius:Math.sqrt(Math.pow(x[1].x-x[0].x,2)+Math.pow(x[1].y-x[0].y,2))*s,duration:Math.max(100,parseInt(o.d)),spread:(parseInt(o.s)||60)/180},d.param.radian=Math.atan2(-(x[1].x-x[0].x),x[0].y-x[1].y)-1.5*Math.PI)}else if("A"==i){if(o.id&&e.screen.objects[o.id]){var u=e.screen.objects[o.id].init;r=o.type,p=Math.min(o.c,200),d={x:(u.position.x-l.position.x+u.shape.w/2)*s,areaW:u.shape.w*s,areaH:u.shape.h*c,duration:Math.max(100,parseInt(o.d))},"bubble"==r?d.y=(u.position.y-l.position.y+u.shape.h)*c:"snow"!=r&&"snowL"!=r&&"snowR"!=r||(d.y=(u.position.y-l.position.y)*c,"snowL"==r&&(d.wind=-.3),"snowR"==r&&(d.wind=.3),r="fall")}}else if("C"==i&&o.id&&e.screen.objects[o.id]){var x=e.wgtGetProperty(o.id,"vertexInPage");x&&x.length&&this.chainEffect(e,t,o,t.ctx.v2imgs[i+a],x,{check:!0,interval:parseInt(o.d)})}return r?t.ctx.apnx[r](t.ctx.v2imgs[i+a],p,!1,d):0},xa.chainEffect=function(e,t,i,a,n,o){function r(){if(m<y){var n;i.c&&parseInt(i.c)?n=parseInt(i.c):(n=bx.HCL.DV.isMobile()?13:25,o&&o.full&&(n=Math.ceil(1.5*n))),void 0!==w&&w<10&&(n=Math.min(n,Math.ceil(250/y)));var s=void 0;"bubble"==i.type||"spiral"==i.type?s={}:"sprinkle"==i.type&&(s={param:{}},m<y-1&&(s.param.radian=Math.atan2(-(d[m+1].x-d[m].x),d[m].y-d[m+1].y)-1.5*Math.PI)),s.x=(d[m].x-e.screen.objects[t.apnOID].init.position.x)*(1/e.getZoomX()),s.y=(d[m].y-e.screen.objects[t.apnOID].init.position.y)*(1/e.getZoomY()),s.imgZoom=p,b=t.ctx.apnx[i.type](a,n,!0,s),void 0!==b&&(m++,e.setTimeout(r,void 0!==w?w:b/2))}}if(t.ctx&&t.ctx.poolReady&&i&&a){var p=1;i.imgR&&(p=parseInt(i.imgR)/100);var d=[];if(o&&o.check&&n.length>1){var s=Math.max(a.__maxImgW*p,a.__maxImgH*p);s*=2.5;var c,l,x=0;d.push(n[0]);for(var u=1;u<n.length;u++){if(l=Math.sqrt(Math.pow(n[u-1].x-n[u].x,2)+Math.pow(n[u-1].y-n[u].y,2)),c=Math.floor(l/s))for(var g,f,v,h=0;h<c;h++)g=(Math.atan2(n[u].x-n[u-1].x,n[u-1].y-n[u].y)+2*Math.PI)%(2*Math.PI),f=Math.sin(g)*s*(h+1),v=-Math.cos(g)*s*(h+1),d.push({x:n[u-1].x+f,y:n[u-1].y+v});x+=l-s*c,u<n.length-1&&x>s&&(x=0,d.push(n[u]))}d.push(n[n.length-1])}else 1==n.length&&d.push(n[0]);var y=d.length,m=0,b=0,w=void 0;o&&void 0!==o.interval&&(w=bx.$checkNaN(parseInt(o.interval)),w*=1/e.getZoomX());r()}},xa.pubOnGetPrerequisite=function(e,t,i){return[{url:"wgts/apnx-ani-1.0.js",type:"text/javascript"}]},xa.createAsCanvasObject=function(e,t,i,a,n){return apn.IWidget.createCanvasObject(e,this,"apn.CNoneClipLayerContainer",bx.CCanvasWnd.SHAPE_RECT,t,i,a,n)},xa.WGTS_SHOW=["apn.wgt.rect","apn.wgt.line","apn.wgt.ellipse","apn.wgt.polygon","apn.wgt.polyline","apn.wgt.polycurve"],xa.onEdit=function(e,t,i,a,n){var o=e.getObjectByID(t);apn.widgets.utils.editWidget(o,e,2,!1,{wgtsShow:this.WGTS_SHOW,wgtsShowOverride:!0},n)},xa.edtOnPostDraw=function(e,t,i,a,n,o,r,p){if(p){for(var d,s,c=e.getObjectByID(t),l=e.wgtGetProperty(t,"cfg"),x=e.getData().pages[e.getPageID()].objects,u=[],g=[],f={},v=0;v<l.v2D.length;v++)d=l.v2D[v],d.id&&x[d.id]&&(s=x[d.id].init)&&s.shape.type==bx.CCanvasWnd.SHAPE_LINE&&(f["D"+d.id]=f["D"+d.id]||0,u.push({x:a+(s.position.x-c.position.x)+s.shape.x[0]+f["D"+d.id],y:n+(s.position.y-c.position.y)+s.shape.y[0]}),f["D"+d.id]+=32,g.push("D"+(v+1)));for(v=0;v<l.v2A.length;v++)if(d=l.v2A[v],d.id&&x[d.id]&&(s=x[d.id].init)){var h={x:a+(s.position.x-c.position.x)+s.shape.w/2};"bubble"==d.type?h.y=n+(s.position.y-c.position.y)+s.shape.h:h.y=n+(s.position.y-c.position.y),u.push(h),g.push("A"+(v+1))}for(v=0;v<l.v2C.length;v++)d=l.v2C[v],d.id&&x[d.id]&&(s=x[d.id].init)&&(u.push({x:a+(s.position.x-c.position.x)+s.shape.w/2,y:n+(s.position.y-c.position.y)+s.shape.h/2}),g.push("C"+(v+1)));apn.CEditorS.utilDrawMarks(i,u,g)}},xa.edtOnConfig=function(e,t){function i(){eduLib.edtInputApplyAll(e,a),e.wgtSetProperty(t,"cfg",n),e.wgtRefreshUI(t)}var a,n=e.wgtGetProperty(t,"cfg"),o=e.getScreenData(),r=[];for(var p in o.objects)apn.Project.findParentOf(o,p,void 0,!0,!0)==t&&o.objects[p].create.data&&"apn.wgt.line"==o.objects[p].create.data.wgtID&&r.push({value:p,title:e.itrGetObjectTitle(p)});eduLib.utilSortObjectsByTitle(e,r),r.push({value:"",title:apn.CExe.GL(apn.CExe.TXT_SETUP_NOSEL)});var d=[];for(var p in o.objects)apn.Project.findParentOf(o,p,void 0,!0,!0)==t&&o.objects[p].create.data&&"apn.wgt.rect"==o.objects[p].create.data.wgtID&&d.push({value:p,title:e.itrGetObjectTitle(p)});eduLib.utilSortObjectsByTitle(e,d),d.push({value:"",title:apn.CExe.GL(apn.CExe.TXT_SETUP_NOSEL)});var s,c=[];for(var p in o.objects)s=apn.Project.getWidgetModule(o.objects[p].create.data),p!=t&&s&&s.exePropGet&&s.exePropGet(this,p,"vertexInPage",!0)&&c.push({value:p,title:e.itrGetObjectTitle(p)});eduLib.utilSortObjectsByTitle(e,c),c.push({value:"",title:apn.CExe.GL(apn.CExe.TXT_SETUP_NOSEL)});var l={title:apn.CExe.GL({ko:"불꽃놀이/뿌리기",en:"Sprinkle/Firework"}),value:"sprinkle"},x={title:apn.CExe.GL({ko:"풍선/거품",en:"Bubble/Balloon"}),value:"bubble"},u={title:apn.CExe.GL({ko:"눈/꽃",en:"Snow/Flower"}),value:"snow"},g={title:apn.CExe.GL({ko:"눈/꽃 왼족",en:"Snow/Flower to left"}),value:"snowL"},f={title:apn.CExe.GL({ko:"눈/꽃 오른쪽",en:"Snow/Flower to right"}),value:"snowR"},v={title:apn.CExe.GL({ko:"회오리",en:"Spiral"}),value:"spiral"},h=apn.CExe.GL({ko:"효과",en:"Effect"})+" (m)",y=apn.CExe.GL({ko:"조각 개수",en:"Particle count"}),m=apn.CExe.GL({ko:"시간",en:"Duration"})+"[ms]",b=apn.CExe.GL({ko:"이미지 ",en:"Image "}),w={type:"number",key:"d",min:100,width:"120px"},I={type:"number",key:"c",min:1,max:100,width:"80px"},D={type:"image",key:"i1"},k={type:"image",key:"i2"},C={type:"image",key:"i3"},E={type:"image",key:"i4"},L={type:"image",key:"i5"};if(a=e.dlgDoModal(Math.ceil(.8*bx.UX.width),Math.ceil(.8*bx.UX.height),i)){a.style.padding="12px",a.style.boxSizing="border-box";var _={type:"title",title:apn.CExe.GL({ko:"영역 효과",en:"Areal effect"})};apn.CExe.edtSetupAddHelp(_,"edu.wgt.ptclScene"),eduLib.edtInputAdd(e,a,_),eduLib.edtInputAdd(e,a,{type:"table",value:n.v2A,options:{th:[h,apn.CExe.GL({ko:"영역 위젯",en:"Area widget"})+" (m)",y,m,b+"1 (m)",b+" 2",b+" 3",b+" 4",b+" 5"],add:!0,remove:!0,order:!0,orderPrefix:"A"},td:[{type:"select",key:"type",options:[u,g,f,x],width:"150px"},{type:"select",key:"id",options:d,width:"190px"},I,w,D,k,C,E,L],join:!0}),eduLib.edtInputAdd(e,a,{type:"space"}),_={type:"title",title:apn.CExe.GL({ko:"지향성 효과",en:"Directional effect"})},apn.CExe.edtSetupAddHelp(_,"edu.wgt.ptclScene"),eduLib.edtInputAdd(e,a,_),eduLib.edtInputAdd(e,a,{type:"table",value:n.v2D,options:{th:[h,apn.CExe.GL({ko:"방향 위젯",en:"Direction widget"})+" (m)",y,m,apn.CExe.GL({ko:"퍼지는 각도",en:"Spread angle"})+"[°]",b+"1 (m)",b+" 2",b+" 3",b+" 4",b+" 5"],add:!0,remove:!0,order:!0,orderPrefix:"D"},td:[{type:"select",key:"type",options:[l],width:"150px"},{type:"select",key:"id",options:r,width:"190px"},I,w,{type:"number",key:"s",min:1,max:360,width:"100px"},D,k,C,E,L],join:!0}),eduLib.edtInputAdd(e,a,{type:"space"}),_={type:"title",title:apn.CExe.GL({ko:"연속 효과",en:"Chained effect"})},apn.CExe.edtSetupAddHelp(_,"edu.wgt.ptclScene"),eduLib.edtInputAdd(e,a,_),eduLib.edtInputAdd(e,a,{type:"table",value:n.v2C,options:{th:[h,apn.CExe.GL({ko:"도형 위젯",en:"Shape widget"})+" (m)",y,apn.CExe.GL({ko:"간격 시간",en:"Interval time"})+"[ms]",apn.CExe.GL({ko:"이미지 확대/축소",en:"Image resize"})+"[%]",b+"1 (m)",b+" 2",b+" 3",b+" 4",b+" 5"],add:!0,remove:!0,order:!0,orderPrefix:"C"},td:[{type:"select",key:"type",options:[x,l,v],width:"150px"},{type:"select",key:"id",options:c,width:"190px"},{type:"number",key:"c",min:1,max:25,width:"80px"},w,{type:"number",key:"imgR",min:1,max:200,width:"140px"},D,k,C,E,L],join:!0})}},xa.edtOnBuildState=function(e,t,i,a){var n,o=e.pages[i].objects[t].create.data.properties.attrs.cfg;a.ready="Ready";var r={A:!0,C:!0,D:!0};for(var p in r)for(var d=0;d<o["v2"+p].length;d++)n=o["v2"+p][d],n.id&&e.pages[i].objects[n.id]&&(n.i1.mediaID||n.i2.mediaID||n.i3.mediaID||n.i4.mediaID||n.i5.mediaID)&&(a[p+"_"+d]="Effect "+p+(d+1))},xa.edtOnCheckEdited=function(e,t){var i,a=e.wgtGetProperty(t,"cfg"),n={A:!0,C:!0,D:!0};for(var o in n)for(var r=0;r<a["v2"+o].length;r++)if(i=a["v2"+o][r],i.id&&e.getObjectByID(i.id))return!0;return!1},xa.edtOnRemapObjectID=function(e,t,i){var a,n={A:!0,C:!0,D:!0},o=t.properties.attrs.cfg;for(var r in n)for(var p=0;p<o["v2"+r].length;p++)a=o["v2"+r][p],a.id&&(i[a.id]?a.id=i[a.id]:e.getScreenData().objects[a.id]||(a.id=""))},uxWgtPtclScene=xa;
var xa={APX_NO_POINTER_EV:!0};xa.styleMap={title:!0},xa.exeItrNoResize=!0,xa.exeItrNoZoom=!0,xa.exeItrNoMove=!0,xa.editor={},xa.editor.states={on:"On",off:"Off"},xa.editor.properties={Interval:{title:"Interval[ms]",input:null,type:"number"},Offset:{title:"Offset[±ms]",input:null,type:"number"},noST:{title:"FireOnStart",input:[{title:"Yes",value:""},{title:"No",value:"Y"}]},apxBackgroundTick:{title:"Daemon",input:[{title:"On",value:"Y"},{title:"Off",value:""}]},apxAllowBubble:{title:"Bubbling",input:[{title:"Yes",value:"Y"},{title:"No",value:""}]}},xa.apnCImage={url:"DB/ux/imgs/wgts/edit/timer_on.png"},xa.properties={},xa.properties.state="off",xa.properties.attrs={Interval:1e3,Offset:0,apxBackgroundTick:"",noST:"",apxAllowBubble:""},xa.MIN=25,xa.createAsCanvasObject=function(t,e,a,r,n){return apn.IWidget.createCanvasObject(t,this,"apn.CImage",bx.CCanvasWnd.SHAPE_RECT,e,a,r,n,void 0,apn.CEditorS.NO_RESIZE)},xa.exeCreateTag=function(t,e,a,r,n,i){var o=document.body.$TAG("div",{style:"position:absolute;overflow:hidden;"});return o.apnCur={},i&&e.wgtHide&&e.wgtHide(i),o},xa.exeRenderTag=function(t,e,a,r,n,i){return a},xa.exeOnLoad=function(t,e){var a=bx.$checkNaN(parseInt(t.wgtGetProperty(e,"Offset"))),r=bx.$checkNaN(parseInt(t.wgtGetProperty(e,"Interval")));r<uxWgtTimer.MIN&&(r=uxWgtTimer.MIN);var n=t.wgtTag(e);n._interval=r,n._offset=a},xa.exeOnStart=xa.exeOnResume=function(t,e){var a=t.wgtTag(e);a.__state="on"==t.wgtGetProperty(e,"apxState"),a._tm=0},xa.exeOnTick=function(t,e,a){var r=t.wgtTag(e);if(r.__state){if(0===r._tm&&"Y"==t.wgtGetProperty(e,"noST"))return void(r._tm=a+r._interval);(0===r._tm||r._tm<=a)&&(t.fireEvent("timer",void 0,e,"Y"==t.wgtGetProperty(e,"apxBackgroundTick")),r._tm=a+Math.max(uxWgtTimer.MIN,r._interval+Math.floor(r._offset*(Math.random()-.5)*2)))}},xa.exeSetState=function(t,e,a){e.__state="on"==a,e._tm=0},xa.edtOnSetState=function(t,e,a){var r=t.wgtGetProperty(e,"Interval");r=bx.$checkNaN(parseInt(r)),r<uxWgtTimer.MIN&&(r=uxWgtTimer.MIN,t.wgtSetProperty(e,"Interval",r)),t.wgtSetProperty(e,"URL","DB/ux/imgs/wgts/edit/timer_"+a+".png"),t.setMediaToObject(e,"DB/ux/imgs/wgts/edit/timer_"+a+".png")},xa.edtOnBuildEvent=function(t,e,a,r){r.timer={value:"timer",title:apn.P.eventTitle.timer}},uxWgtTimer=xa;
var xa=apn.inheritWidget(apn.widgets["apn.wgt.image2"]);xa.exeFireStateEvent=!0,xa.styleMap={title:!0,visibility:!0,strokeStyle:!0,lineWidth:!0,lineDash:!0,font:!0,fontSize:!0,fontStyle:!0,fontItalic:!0,fontBold:!0,textMultiLine:!0,fontUnderlined:!0,text:!0,textAlign:!0,textValign:!0,textPadding:!0,fontStrokeStyle:!0,fontStrokeWidth:!0,borderRadiusTopLeft:!0,borderRadiusTopRight:!0,borderRadiusBottomLeft:!0,borderRadiusBottomRight:!0,alpha:!0,angle:!0,mediaID:!0,dragX:!0,dragY:!0,dragInParent:!0,dragContainParent:!0,csr:!0},xa.editor={},xa.editor.iconThumb="DB/ux/imgs/wgts/thumbs/imageButton.png",xa._txtSpt1={ko:"기본 상태 이미지 ID",en:"Image asset ID for normal state"},xa._txtSpt2={ko:"선택 상태 이미지 ID",en:"Image asset ID for selected state"},xa.scriptInfo={wgtDataByParam:"selectType",wgtData:{"":{image:{help:"{normal:ID|undefined, pressed:ID|undefined, hover:ID|undefined}\n"+apn.CExe.GL(xa._txtSpt1),type:"so",value:{}},imageDisabled:{help:"{normal:ID|undefined}\n"+apn.CExe.GL({ko:"비활성 상태 이미지 ID",en:"Image asset ID for disabled state"}),type:"so",value:{}}},tab:{image:{help:"{normal:ID|undefined, hover:ID|undefined}\n"+apn.CExe.GL(xa._txtSpt1),type:"so",value:{}},imageSelected:{help:"{normal:ID|undefined}\n"+apn.CExe.GL(xa._txtSpt2),type:"so",value:{}}},check:{image:{help:"{normal:ID|undefined, hover:ID|undefined}\n"+apn.CExe.GL({ko:"미선택 상태 이미지 ID",en:"Image asset ID for unchecked state"}),type:"so",value:{}},imageChecked:{help:"{normal:ID|undefined, hover:ID|undefined}\n"+apn.CExe.GL(xa._txtSpt2).replace("selected","checked"),type:"so",value:{}}}}},xa.properties.state="normal",xa.properties.attrs=xa.properties.attrs||{},xa.properties.attrs.selectType="",xa.properties.attrs.btnV=2,xa.properties.attrs.autoKeepSize=!1,xa.properties.attrs.cfg={images:{normal:{mediaID:void 0},down:{mediaID:void 0},hover:{mediaID:void 0},disabled:{mediaID:void 0},disabledDown:{mediaID:void 0},disabledHover:{mediaID:void 0},checked:{mediaID:void 0},checkedD:{mediaID:void 0},checkedH:{mediaID:void 0}},clr:{disabled:null,down:null,hover:null},ttip:"",hvrSync:""},xa.onEdit=apn.widgets["apn.wgt.rect"].onEdit,xa.exeCreateTag=function(e,t,a,i,d,n){var o=apn.widgets["apn.wgt.rect"].exeCreateTag.call(this,e,t,a,i,d,n);return o.apnTapCsr=!0,o},xa.exeAssetPreload=function(e,t,a){function i(e,t,i){a()}var d=e.wgtGetProperty(t,"cfg"),n={},o=0;for(var r in d.images)d.images[r].mediaID&&(n[r]={url:e.mediaURL(d.images[r].mediaID)},o++);o?(new apn.CRscLoader).load(e.project,n,i):a()},xa.exeOnLoad=function(e,t){function a(){if(e.wgtTag(t)){var a="hover";if("toggle"==x)"disabled"==e.wgtGetProperty(t,"apxState")&&(a="disabledHover");else if("check"==x)"checked"==e.wgtGetProperty(t,"apxState")&&(a="checkedH");else if("disabled"==e.wgtGetProperty(t,"apxState"))return;v._images[a].mediaID&&I.exeAssetLoad(e,v,v._images[a].mediaID),uxWgtBtnImage.setTextColor(e,t,a),I.I_exeOnStateChange&&I.I_exeOnStateChange(e,t,a)}}function i(){if(e.wgtTag(t)){if(v._down)if("check"==x)var a="checkedD";else var a="down";else var a=e.wgtGetProperty(t,"apxState");v._images[a].mediaID&&I.exeAssetLoad(e,v,v._images[a].mediaID),uxWgtBtnImage.setTextColor(e,t,a),I.I_exeOnStateChange&&I.I_exeOnStateChange(e,t,a)}}function d(){if(e.wgtTag(t)){var a="down";if("toggle"==x)"disabled"==e.wgtGetProperty(t,"apxState")&&(a="disabledDown");else if("check"==x);else if("disabled"==e.wgtGetProperty(t,"apxState"))return;v._images[a].mediaID&&I.exeAssetLoad(e,v,v._images[a].mediaID),uxWgtBtnImage.setTextColor(e,t,a),I.I_exeOnStateChange&&I.I_exeOnStateChange(e,t,a)}}function n(){var a=e.wgtGetProperty(t,"apxState");v._images[a]||(a="normal"),v._images[a].mediaID&&I.exeAssetLoad(e,v,v._images[a].mediaID),uxWgtBtnImage.setTextColor(e,t,a),I.I_exeOnStateChange&&I.I_exeOnStateChange(e,t,a)}function o(a){a?v.btnOnDown&&v.btnOnDown(v):v._down&&(v._down=!1,v.btnOnState&&v.btnOnState(v),b.hvrSync&&e.ctxSet("uxWgtBtnImage_"+b.hvrSync,{oId:t,state:3}))}function r(t,a,i,i,i,i,d){t.apnBlockPointerEvent||(a==bx.CGesture.POINTER_START?(d&&e.viewer.uOnGestureDragStartControl&&e.viewer.uOnGestureDragStartControl(d),o(!0)):a==bx.CGesture.POINTER_END&&o(!1))}function l(e){e&&e.oId!=t&&(m&&0==e.state?i():m&&1==e.state?a():y&&2==e.state?d():3==e.state&&n())}function s(a){a&&e.log(t,"Image can be set only to replace existing image. Currently, '"+a+"' image is unset for this widget.")}function p(e,a){if(e==t&&a){var i,d;a.normal&&(v._images.normal.mediaID?(v._images.normal.mediaID=a.normal,d=!0):i="Normal"),a.pressed&&(v._images.down.mediaID?(v._images.down.mediaID=a.pressed,d=!0):i="Pressed"),a.hover&&(v._images.hover.mediaID?(v._images.hover.mediaID=a.hover,d=!0):i="Hover"),d&&v.btnOnState&&v.btnOnState(v),s(i)}}function g(e,a){if(e==t&&a){var i,d;a.normal&&(v._images.disabled.mediaID?(v._images.disabled.mediaID=a.normal,d=!0):i="Disabled"),d&&v.btnOnState&&v.btnOnState(v),s(i)}}function u(e,a){if(e==t&&a){var i,d;a.normal&&(v._images.checked.mediaID?(v._images.checked.mediaID=a.normal,d=!0):i="Checked"),a.hover&&(v._images.checkedH.mediaID?(v._images.checkedH.mediaID=a.hover,d=!0):i="Checked.hover"),d&&v.btnOnState&&v.btnOnState(v),s(i)}}function c(e,a){if(e==t&&a){var i,d;a.normal&&(v._images.disabled.mediaID?(v._images.disabled.mediaID=a.normal,d=!0):i="Selected"),d&&v.btnOnState&&v.btnOnState(v),s(i)}}var m,y,I=this,v=e.wgtTag(t),b=e.wgtGetProperty(t,"cfg"),x=e.wgtGetProperty(t,"selectType");if(b.ttip&&(v.title=b.ttip),b.images.disabledDown||(b.images.disabledDown={mediaID:void 0}),b.images.disabledHover||(b.images.disabledHover={mediaID:void 0}),b.clr||(b.clr={disabled:null,down:null,hover:null}),!this.I_exeOnLoad_check||this.I_exeOnLoad_check(e,t)){v._images=bx.$cloneObject({},b.images),v._down=!1;var h=!1;if(apn.dbUI&&apn.dbUI.system&&1==apn.dbUI.system.exeEventStart){var S=apn.Project.getLayout(e.project).property.CExe;S&&S.event&&"Y"==S.event.TS1&&(h=!0)}"tab"==x||"toggle"==x?("tab"==x&&(v._images.down=v._images.disabled,v._images.hover.mediaID||(v._images.hover=v._images.disabled)),v.apxOnEvent=function(e,a,i,d){if(a==(h?"tapStart":"click"))return"toggle"==x?"normal"==e.wgtGetProperty(t,"apxState")?e.wgtSetProperty(t,"apxState","disabled"):e.wgtSetProperty(t,"apxState","normal"):"normal"==e.wgtGetProperty(t,"apxState")&&e.wgtSetProperty(t,"apxState","disabled"),!0}):"check"==x&&(v.apxOnEvent=function(e,a,i,d,n,n,o){if(a==(h?"tapStart":"click"))return"normal"==e.wgtGetProperty(t,"apxState")?e.wgtSetProperty(t,"apxState","checked"):e.wgtSetProperty(t,"apxState","normal"),!0}),h||(v._images.down.mediaID||b.clr&&b.clr.down||v._images.disabledDown.mediaID||b.clr&&b.clr.disabledDown)&&(y=!0,v.btnOnDown=function(a){if("toggle"==x);else if("check"==x);else if("disabled"==e.wgtGetProperty(t,"apxState"))return;v._down||(v._down=!0,d(),b.hvrSync&&e.ctxSet("uxWgtBtnImage_"+b.hvrSync,{oId:t,state:2}))}),v.btnOnState=function(e){n()},h||(v._images.hover.mediaID||b.clr&&b.clr.hover||v._images.disabledHover.mediaID||b.clr&&b.clr.disabledHover||b.clr&&b.clr.checkedH)&&(m=!0,bx.HCL.DV.hasTouchEvent()||(v.onmousemove=function(i){return!v.apnPassPointerEvent&&(!v.apnBlockPointerEvent&&void(v._down||(a(),b.hvrSync&&(v._btnHover||(v._btnHover=!0,e.ctxSet("uxWgtBtnImage_"+b.hvrSync,{oId:t,state:1}))))))},v.onmouseout=function(a){return!v.apnPassPointerEvent&&(!v.apnBlockPointerEvent&&(i(),void(b.hvrSync&&v._btnHover&&(v._btnHover=!1,v._down||e.ctxSet("uxWgtBtnImage_"+b.hvrSync,{oId:t,state:0})))))})),e.viewer.o.verGestureDispatch&&(v.apxOnGesture=function(e,t){r(this,t)}),new bx.CGesture(v,r,{noDelayedEvent:!0,noLongholdEvent:!0}),v.btnOnState&&v.btnOnState(v),b.hvrSync&&e.wgtListenContext(t,"uxWgtBtnImage_"+b.hvrSync,l,!0),e.wgtListenProperty(t,"image",p),e.wgtListenProperty(t,"imageDisabled",g),e.wgtListenProperty(t,"imageChecked",u),e.wgtListenProperty(t,"imageSelected",c),this.I_exeOnLoad_post&&this.I_exeOnLoad_post(e,t)}},xa.exeSetState=function(e,t,a,i){function d(t){"on"==e.wgtGetProperty(t,"apxState")?e.wgtSetProperty(t,"apxState","off"):"disabled"==e.wgtGetProperty(t,"apxState")||"checked"==e.wgtGetProperty(t,"apxState")?e.wgtSetProperty(t,"apxState","normal"):"2"==e.stateGetActive(t,!0)&&(e.stateLayerActivate(t,"1"),e.stateSetActive(t,"1"))}if(i!=a){var n=e.wgtGetProperty(e.wgtId(t),"selectType");"toggle"==n||"check"==n||setTimeout(function(){"normal"==a?"Block"==e.wgtGetProperty(t.apnOID,"apxVisibility")||2==e.wgtGetProperty(t.apnOID,"apxVisibility")||(e.tagBlockPointerEvent(t,!1),apn.IWidget.exeSetCursor(t,e.wgtGetProperty(t.apnOID,"apxCursor",!0))):(e.tagBlockPointerEvent(t,!0),apn.IWidget.exeSetCursor(t,"inherit"))},0),t.btnOnState&&t.btnOnState(t);var o=e.wgtId(t);e.wgtGetProperty(o,"uxToggleGroup")&&("disabled"!=a&&"checked"!=a||e.utlIterateInGroup(o,"uxToggleGroup",d))}},xa.exeOnScreenRefresh=apn.widgets["apn.wgt.rect"].exeOnScreenRefresh,xa.setTextColor=function(e,t,a){var i,d=e.wgtTag(t),n=e.wgtGetProperty(t,"cfg"),o=e.wgtGetProperty(t,"btnV"),r=!!e.wgtGetProperty(t,"apxText");r&&(i=d.textTag?d.textTag:d),i&&n.clr&&("normal"==a?(d==i?i.style.color=apn.Project.resolveStyle(e.project,"fontStyle",e.wgtGetProperty(t,"apxTextColor")):i.style.color="inherit",2==o&&(d.style.borderColor=apn.Project.resolveStyle(e.project,"strokeStyle",e.wgtGetProperty(t,"apxStrokeStyle")))):n.clr[a]&&(i.style.color=n.clr[a],2==o&&(d.style.borderColor=n.clr[a])))},xa.createAsCanvasObject=function(e,t,a,i,d){return apn.IWidget.createCanvasObject(e,this,"apn.CImage",bx.CCanvasWnd.SHAPE_RECT,t,a,i,d)},xa.edtOnConfig=function(e,t){function a(){eduLib.edtInputApplyAll(e,i.tagSub),eduLib.edtInputApplyAll(e,i.tagOrg),r.edtOnSetState(e,t,e.wgtGetProperty(t,"apxState")),e.wgtSetProperty(t,"cfg",d),n&&(e.wgtSetProperty(t,"local",n),r.I_edtOnConfig_save&&r.I_edtOnConfig_save(e,t,n,i,i.tagSub,i.tagOrg)),i._tmpSelectType&&e.wgtSetProperty(t,"selectType",i._tmpSelectType)}var i,d=e.wgtGetProperty(t,"cfg"),n=e.wgtGetProperty(t,"local"),o=e.wgtGetProperty(t,"selectType");d.images.disabledDown||(d.images.disabledDown={mediaID:void 0}),d.images.disabledHover||(d.images.disabledHover={mediaID:void 0}),d.clr||(d.clr={disabled:null,down:null,hover:null});var r=this;(i=e.dlgDoModal(700,Math.ceil(.8*bx.UX.height),a))&&(i.tagSub=i.$TAG("div"),i.tagOrg=i.$TAG("div"),this.I_edtOnConfig&&this.I_edtOnConfig(e,t,n,i,i.tagSub,i.tagOrg),uxWgtBtnImage.I_edtOnConfigBuild.call(this,e,t,i,i.tagOrg,o))},xa.I_edtOnConfigBuild=function(e,t,a,i,d){var n=e.wgtGetProperty(t,"cfg");a._tmpSelectType=d;var o=apn.CExe.GL({ko:"비활성 상태",en:"Disabled"}),r=apn.CExe.GL({ko:"기본 상태",en:"Normal"}),l=apn.CExe.GL({ko:"버튼 상태 표시를 위한 이미지",en:"Image for each states"}),s=r,p=o;if(2==e.wgtGetProperty(t,"btnV"))var g=apn.CExe.GL({ko:"버튼 상태 표시를 위한 텍스트/테두리 색상",en:"Text/border color for each states"});else var g=apn.CExe.GL({ko:"버튼 상태 표시를 위한 텍스트 색상",en:"Text color for each states"});this.I_edtOnConfig_title&&this.I_edtOnConfig_title(e,t,a,"normal")&&(s=this.I_edtOnConfig_title(e,t,a,"normal")),this.I_edtOnConfig_title&&this.I_edtOnConfig_title(e,t,a,"disabled")&&(p=this.I_edtOnConfig_title(e,t,a,"disabled")),i.eduLib&&delete i.eduLib,i.innerHTML="";var u="text"==e.wgtGetProperty(t,"btnType"),c=!!e.wgtGetProperty(t,"apxText");if("tab"==d)s==r&&(s=apn.CExe.GL({ko:"미선택 상태",en:"Unselected"})),p==o&&(p=apn.CExe.GL({ko:"선택 상태",en:"Selected"})),u||(eduLib.edtInputAdd(e,i,{type:"title",title:l}),eduLib.edtInputAdd(e,i,{type:"image",title:s+"",value:n.images,key:"normal",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Hover",value:n.images,key:"hover",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:p+"",value:n.images,key:"disabled",join:!0})),n.clr&&(c||u)&&(n.clr.down&&(n.clr.down=null),eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:g}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:p,value:n.clr,key:"disabled",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Hover",value:n.clr,key:"hover",join:!0}));else if("toggle"==d)p==o&&(p="Selected"),u||(eduLib.edtInputAdd(e,i,{type:"title",title:l}),eduLib.edtInputAdd(e,i,{type:"image",title:p+"",value:n.images,key:"disabled",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:p+" Hover",value:n.images,key:"disabledHover",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:p+" Pressed",value:n.images,key:"disabledDown",join:!0}),eduLib.edtInputAdd(e,i,{type:"space",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+"",value:n.images,key:"normal",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Hover",value:n.images,key:"hover",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Pressed",value:n.images,key:"down",join:!0})),n.clr&&(c||u)&&(eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:g}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:p,value:n.clr,key:"disabled",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:p+" Hover",value:n.clr,key:"disabledHover",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:p+" Pressed",value:n.clr,key:"disabledDown",join:!0}),eduLib.edtInputAdd(e,i,{type:"space",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Hover",value:n.clr,key:"hover",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Pressed",value:n.clr,key:"down",join:!0}));else if("check"==d){s=apn.CExe.GL({ko:"미선택 상태",en:"Unchecked"});var m=apn.CExe.GL({ko:"선택 상태",en:"Checked"});u||(eduLib.edtInputAdd(e,i,{type:"title",title:l}),eduLib.edtInputAdd(e,i,{type:"image",title:m+"",value:n.images,key:"checked",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:m+" Hover",value:n.images,key:"checkedH",join:!0}),eduLib.edtInputAdd(e,i,{type:"space",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+"",value:n.images,key:"normal",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Hover",value:n.images,key:"hover",join:!0})),n.clr&&(c||u)&&(eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:g}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:m,value:n.clr,key:"checked",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:m+" Hover",value:n.clr,key:"checkedH",join:!0}),eduLib.edtInputAdd(e,i,{type:"space",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Hover",value:n.clr,key:"hover",join:!0}))}else u||(eduLib.edtInputAdd(e,i,{type:"title",title:l}),eduLib.edtInputAdd(e,i,{type:"image",title:s+"",value:n.images,key:"normal",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Hover",value:n.images,key:"hover",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:s+" Pressed",value:n.images,key:"down",join:!0}),"simple"!=d&&(eduLib.edtInputAdd(e,i,{type:"space",join:!0}),eduLib.edtInputAdd(e,i,{type:"image",title:p,value:n.images,key:"disabled",join:!0}))),n.clr&&(c||u)&&(eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:g}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Hover",value:n.clr,key:"hover",join:!0}),eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:s+" Pressed",value:n.clr,key:"down",join:!0}),"simple"!=d&&eduLib.edtInputAdd(e,i,{type:"color",askUse:!0,title:p,value:n.clr,key:"disabled",join:!0})),eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:apn.CExe.GL({ko:"버튼간 Hover/Pressed 상태 동기화",en:"Synchronize Hover/Pressed status with buttons"})}),eduLib.edtInputAdd(e,i,{type:"text",title:apn.CExe.GL({ko:"그룹 지정",en:"Group"}),value:n,key:"hvrSync",comment:apn.CExe.GL({ko:"(편집자가 할당한 그룹ID)",en:"(Unique group ID assigned by user(editor))"}),join:!0});eduLib.edtInputAdd(e,i,{type:"space"}),eduLib.edtInputAdd(e,i,{type:"title",title:apn.CExe.GL({ko:"도움말(툴팁)",en:"Tooltip"})}),eduLib.edtInputAdd(e,i,{type:"text",title:apn.CExe.GL({ko:"메시지",en:"Message"}),value:n,key:"ttip",join:!0})},xa.edtOnSetState=function(e,t,a){var i=e.wgtGetProperty(t,"cfg");i.images[a].mediaID?e.wgtSetProperty(t,"apxMediaID",i.images[a].mediaID,e.wgtGetProperty(t,"autoKeepSize")):e.wgtSetProperty(t,"apxMediaID",null)},xa.edtOnBuildState=function(e,t,a,i){var d,n=e.pages[a].objects[t].create.data;n&&n.properties&&n.properties.attrs&&(d=n.properties.attrs.selectType),"tab"==d||"toggle"==d?(i.disabled="Selected",i.normal="Unselected"):"check"==d?(i.checked="Checked",i.normal="Unchecked"):(i.normal="Normal",i.disabled="Disabled")},xa.pubOnGetHTML=function(e,t,a,i){var d=apn.IWidget.htmlRender(this,e,t,a),n="<div";d.css+="overflow:hidden;",d.style.mediaID&&(d.css+="background-size:100% 100%;background-repeat:no-repeat;background-image: url("+apn.Project.mediaResolve(e,d.style.mediaID,!1,!0)+");");var o="",r=e.pages[t].objects[a].create.data.properties.attrs;return r.ttip&&(o+=' title="'+apn.IWidget.exeFormatText(r.ttip,{xml:!0,noTag:!0})+'"'),n+=' style="'+d.css+'"'+o,n+=' class="apxWgt1'+(i&&i.addCls?" "+i.addCls:"")+'"',n+=i&&i.noId?">":' data-apx-id="'+a+'">',n+="</div>"},uxWgtBtnImage=xa;
var xa=apn.inheritWidget(apn.widgets["apn.wgt.layerContainer"]);xa.editor=xa.editor||{},xa.editor.iconThumb="DB/EDU/imgs/wgts/thumbs/spriteAnimation.png",xa.editor.states={play:"Play",loop:"Loop",stop:"Stop"},xa.scriptInfo=void 0,xa.properties.state="stop",xa.properties.attrs={apxAnimate:!0,cfg:{idStep:""}},xa.createAsCanvasObject=function(t,e,a,i,r){return apn.IWidget.createCanvasObject(t,apn.widgets["apn.wgt.layerContainer"],"apn.CLayerContainer",bx.CCanvasWnd.SHAPE_RECT,e,a,i,r,{orderedActive:!0})},xa.exeFireStateEvent=void 0,xa.exeSetState=function(t,e,a){a&&("play"==a||"loop"==a?t.wgtAniCheck(t.wgtId(e))>1&&t.wgtAniRun(t.wgtId(e),"play"==a?1:2)&&t.fireEvent("animation","Start",e.apnOID):"stop"==a&&t.wgtAniSet(t.wgtId(e)))},xa.exeOnLoad=function(t,e){function a(a,r){if(a==i.idStep&&r){var n=apn.Project.getStateByObjectID(t.viewer.project,t.getPageID(),e);n&&(apn.UTIL.sort(n,"order",1,!0),n[r.current]&&n[r.current].stateID&&t.wgtSetProperty(e,"apxLayer",n[r.current].stateID))}}var i=t.wgtGetProperty(e,"cfg");i&&i.idStep&&t.wgtTag(i.idStep)&&t.wgtListenProperty(e,"apxStep",a)},xa.edtSetupStep=function(t,e,a,i){var r=t.getScreenData(),n=[{title:apn.CExe.GL({ko:"[없음]",en:"[None]"}),value:""}];for(var o in r.objects)r.objects[o].create&&r.objects[o].create.data&&r.objects[o].create.data.properties&&r.objects[o].create.data.properties.attrs&&r.objects[o].create.data.properties.attrs.apxStep&&n.push({value:o,title:t.itrGetObjectTitle(o)});eduLib.edtInputAdd(t,a,{type:"select",options:n,title:apn.CExe.GL({ko:"연동할 위젯",en:"Widget to interface with"}),key:"idStep",value:i,join:!0})},xa.edtOnConfig=function(t,e){function a(){eduLib.edtInputApplyAll(t,i),t.wgtSetProperty(e,"cfg",r)}var i,r=t.wgtGetProperty(e,"cfg")||{idStep:""};if(i=t.dlgDoModal(600,200,a)){var n=apn.CExe.CSS_SETUP_PANE+"height:"+(i.clientHeight-40)+"px";i.tagTab=i.$TAG("div",{style:"position:relative;font-weight:bold;width:100%;height:26px;padding-bottom:14px;"}),i.tagTab.innerHTML='<span id="tagTab2" style="'+apn.CExe.CSS_SETUP_TAB+'">'+apn.CExe.GL({ko:"스텝 연동",en:"Step Interface"})+"</span>"+apn.CExe.CSS_SETUP_TAB_END,i.tagTab2=i.$TAG("div",{style:n}),this.edtSetupStep(t,e,i.tagTab2,r),i.tagTab.$$("tagTab2").style.borderStyle="solid solid none solid",i.tagTab.$$("tagBlank").style.width=i.clientWidth-i.tagTab.$$("tagBlank").offsetLeft-1+"px"}},xa.WGTS_SHOW=["edu.wgt.animSprite","apn.wgt.rect","apn.wgt.singleText","apn.wgt.roundRect","apn.wgt.ellipse","apn.wgt.line","apn.wgt.image2","apn.wgt.polygon","apn.wgt.video","apn.wgt.itrAreaRect","apn.wgt.itrAreaEllipse","ux.wgt.imgSprite","ux.wgt.shtSprite"],xa.onEdit=function(t,e){apn.widgets.utils.editWidget(t.getObjectByID(e),t,2,!0,{wgtsShow:this.WGTS_SHOW,layerTitleFromOrder:!0,layerDuration:apx.wgt.spriteDefaultFrameDuration,layerOrdering:!0,layerScrollbar:"always"})},eduWgtAnimSprite=xa,xa=apn.inheritWidget(apn.widgets["apn.wgt.sceneContainer"]),xa.exeItrNoResize=!0,xa.editor=xa.editor||{},xa.editor.iconThumb="DB/EDU/imgs/wgts/thumbs/sceneAnimation.png",xa.editor.states={play:"Play",loop:"Loop",stop:"Stop",stopL:"StopAtLast"},xa.properties.state="stop",xa.properties.attrs={apxAnimate:!0,ver:2,ofl:""},xa.exeSetState=function(t,e,a,i){function r(t,e){return void 0===t.order&&void 0===e.order?0:void 0===t.order?1:void 0===e.order?-1:t.order-e.order}if(a)if(i||"stopL"!=a||(a="stop"),"stopL"==a){var n=apn.Project.getStateByObjectID(t.project,t.getPageID(),e.apnOID);n&&n.length>0&&(n.sort(r),t.wgtAniSet(t.wgtId(e),void 0,n[n.length-1].title))}else eduWgtAnimSprite.exeSetState.call(this,t,e,a)},xa.exeOnLoad=eduWgtAnimSprite.exeOnLoad,xa.onEdit=function(t,e){apn.widgets.utils.editWidget(t.getObjectByID(e),t,1,!0,{layerTitleFromOrder:!0,layerDuration:apx.wgt.spriteDefaultFrameDuration,layerOrdering:!0,layerScrollbar:"always",wgtsShow:apn.widgets["apn.wgt.sceneContainer"].WGTS_SHOW,editNoGroup:!0})},eduWgtAnimScene=xa,xa=apn.inheritWidget(apn.widgets["apn.wgt.layerContainer"]),xa.editor=xa.editor||{},xa.editor.iconThumb="DB/EDU/imgs/wgts/common/icon_thumb.png",xa.properties.attrs={apxAnimateHolder:!0},xa.exeSetState=void 0,xa.onEdit=function(t,e){apn.widgets.utils.editWidget(t.getObjectByID(e),t,2,!0,{layerTitlePrefix:"State",layerScrollbar:"always"})},eduWgtAnimHolder=xa,xa=apn.inheritWidget(eduWgtAnimHolder),xa.editor=xa.editor||{},xa.editor.iconThumb="DB/EDU/imgs/wgts/thumbs/sceneAnimation.png",xa.properties.attrs={apxAnimateHolder:!0},xa.exeSetState=function(t,e,a,r){var n,o,p=t.screen.objects[e.apnOID].layout.layers;for(i in p)for(n=t.getWidgetsByProperty("apxAnimate",p[i].id),o=0;o<n.length;o++)i!=a?t.wgtSetProperty(n[o],"apxState","stop"):t.wgtSetProperty(n[o],"apxState","loop");a!=r&&t.fireEvent("stateChange",a,e.apnOID)},xa.exeOnStart=function(t,e){var a=this;setTimeout(function(){a.exeSetState(t,t.wgtTag(e),t.stateGetActive(e))},0)},eduWgtAnimHolder2=xa;
